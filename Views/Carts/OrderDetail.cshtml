@model OrderHistoryViewModel
@{
    ViewBag.Title = "Chi tiết sản phẩm";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
<link rel="stylesheet" href="~/Content/Cart/OrderDetail.css" />
<div class="container-fluid">
    <div class="order-detail">
        <h3>Chi tiết đơn hàng @Model.OrderID</h3>
        <table class="table">
            <tr>
                <th>Ngày đặt hàng</th>
                <td>@Model.OrderDate.ToString("dd/MM/yyyy")</td>
            </tr>
            <tr>
                <th>Địa chỉ</th>
                <td>@Model.SpecificAddress, @Model.Block, @Model.Town, @Model.Province</td>
            </tr>
            <tr>
                <th>Số điện thoại</th>
                <td>@Model.Phone</td>
            </tr>
            <tr>
                <th>Trạng thái</th>
                <td>
                    @{
                        var statusText = "";
                        switch (Model.Status)
                        {
                            case 0:
                                statusText = "Chưa thanh toán";
                                break;
                            case 1:
                                statusText = "Đã thanh toán";
                                break;
                            case 2:
                                statusText = "Đã gửi hàng";
                                break;
                            case -1:
                                statusText = "Đơn hàng bị huỷ";
                                break;
                            default:
                                statusText = "Không xác định";
                                break;
                        }
                                }
                                @statusText
                            </td>
            </tr>
        </table>
    </div>

    <div class="product-detail">
        <h3>Chi tiết sản phẩm</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Kích cỡ</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var detail in Model.OrderDetails)
                {
                    <tr>
                        <td>@detail.ProductName</td>  <!-- Hiển thị tên sản phẩm -->
                        <td>@detail.Quantity</td>
                        <td>@string.Format("{0:C}", detail.UnitPrice)</td>
                        <td>@detail.Size</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Tổng tiền sẽ hiển thị ở dưới bảng -->
    <div class="text-right">
        <strong style="color: red;">Tổng tiền: @string.Format("{0:C}", Model.OrderDetails.Sum(d => d.Quantity * d.UnitPrice))</strong>
    </div>
</div>
